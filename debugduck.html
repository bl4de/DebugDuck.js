<!DOCTYPE html>
<html>
<head>
    <title>DebugDuck playground</title>
</head>
<body>
<h4>Debug Duck example usages</h4>
<p>Sample usages of DebugDuck</p>
<script type="text/javascript" src="DebugDuck.js"></script>
<script>
    // the shortest usage
    
    var k = 321;
    dd.p(k);

    // standard usage
    var i = 10;
    dd.setprefix("value of 'i' =").setstyle().printvar(i);

    // with aliases:
    var j = 123;
    dd.sp("Value of 'j' : ").ss("background-color: #cea; color: #1a1a1e;").p(j);

    var _warning_ = "Some warning";
    dd.setprefix(" WARNING !!! ", "warn").setstyle("background-color: #FF9933; color:#eee", "warn");
    dd.p(_warning_, "warn");

    var _error_ = "Some error";
    dd.setprefix(" ERROR !!! ", "err").setstyle("background-color: #f24; color:#eee", "err");
    dd.p(_error_, "err");

    // grouping
    var TestArray = [1,2,3,4,5];


    var iterator = function(element) {
        dd.p(element);
    };

    // start grup with caption "TestArray elements", then show each of TestArray element
    dd.sp("TestArray element: ").g("TestArray array elements:");
        TestArray.forEach( iterator );  
    // end group  
    dd.ge();

    // using table
    var cars = [
        { "manufacturer" : "Audi", "model" : "RS5", "engine" : "4.2 V8 FSI 450KM"},
        { "manufacturer" : "Audi", "model" : "R8", "engine" : "6.0 V10 FSI 560KM"},
        { "manufacturer" : "Audi", "model" : "S5", "engine" : "3.0 V6 Comp. 333KM"},
        { "manufacturer" : "Audi", "model" : "RS4 B7", "engine" : "4.2 V8 FSI 420KM"}
    ];

    // dd.t(cars) dumps array of objects as easy to read table:
    dd.t(cars);

    // time measuring
    dd.ts("total execution time");
    for (var k = 0; k <= 10; k++) {
        dd.ts("iteration " + k + " execution time");
        for (var i = 0; i<10000000; i++) {
            // nope
        }

        dd.te("iteration " + k + " execution time");
        
    }
    dd.te("total execution time");

    // assertions
    var obj = {
        propA: 10,
        propB: "propB value"
    };

    dd.sp("Result: ");
    dd.a(obj.propA === 10, "'propA' of obj equals 10");
    dd.a(obj.propB === 10, "'propB' of obj equals 10");


    var obj = {
        propA: 100,
        propB: "propB value",
        propC: [1,2,3]
    };

    dd.sp("Result: ");
    dd.a(obj.propA === 100, "'propA' of obj equals 100")
        .a(obj.propB === "propB value", "'propB' of obj equals 'propB value'")
        .a(obj.propC[1] === 5, "'propc[1]' of obj equals 5");

//    dd.c().sp("Is it clear? ").p("Console cleared");

    // print Obj as formatted
    dd.d(obj);


    // counter
    function fn() {
        // do something
        dd.count("fn() called");
    }

    for (var i = 0; i < 10; i++) {
        dd.tr(fn);
        fn();
    }

    // print information about memory
    dd.m();
</script>
</body>
</html>
